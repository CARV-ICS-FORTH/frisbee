---
apiVersion: frisbee.dev/v1alpha1
kind: Template
metadata:
  name: system.chaos.pod.kill
spec:
  inputs:
    parameters:
      target: localhost
  chaos:
    raw: |
      apiVersion: chaos-mesh.org/v1alpha1
      kind: PodChaos
      metadata:
        annotations:
          grafana.frisbee.dev/draw: point
      spec:
        action: pod-kill
        mode: one
        selector:
            pods:
              {{.Release.Namespace}}:
                - {{"{{.Inputs.Parameters.target}}"}}