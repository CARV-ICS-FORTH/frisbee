---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.1
  creationTimestamp: null
  name: chaos.frisbee.io
spec:
  group: frisbee.io
  names:
    kind: Chaos
    listKind: ChaosList
    plural: chaos
    singular: chaos
  scope: Namespaced
  versions:
    - name: v1alpha1
      schema:
        openAPIV3Schema:
          description: Chaos is the Schema for the chaos API
          properties:
            apiVersion:
              description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
              type: string
            kind:
              description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
              type: string
            metadata:
              type: object
            spec:
              description: ChaosSpec defines the desired state of Chaos
              properties:
                kill:
                  description: KillSpec terminates the selected Pod. Because this failure
                    is permanent, it can only be waited in the Running Phase. It does
                    not go through Pass.
                  properties:
                    selector:
                      properties:
                        macro:
                          description: Macro abstract selector parameters into a structured
                            string (e.g, .cluster.master.all). Every parsed field is
                            represents an inner structure of the selector. In case of
                            invalid macro, the selector will return empty results. Macro
                            conflicts with any other parameter.
                          type: string
                        match:
                          description: Match contains the rules to select target
                          enum:
                            - one
                            - all
                            - fixed
                            - fixed-percent
                            - random-max-percent
                          properties:
                            byCluster:
                              additionalProperties:
                                type: string
                              description: ByCluster defines the service group where
                                services belong.
                              type: object
                            byName:
                              additionalProperties:
                                items:
                                  type: string
                                type: array
                              description: ByName is a map of string keys and a set
                                values that used to select services. The key defines
                                the namespace which services belong, and the values
                                is a set of service names.
                              type: object
                          type: object
                        mode:
                          description: 'Mode defines which of the selected services
                          to use. If undefined, all() is used Supported mode: one
                          / all / fixed / fixed-percent / random-max-percent'
                          type: string
                        value:
                          description: Value is required when the mode is set to `FixedPodMode`
                            / `FixedPercentPodMod` / `RandomMaxPercentPodMod`. If `FixedPodMode`,
                            provide an integer of pods to do chaos action. If `FixedPercentPodMod`,
                            provide a number from 0-100 to specify the percent of pods
                            the server can do chaos action. IF `RandomMaxPercentPodMod`,  provide
                            a number from 0-100 to specify the max percent of pods to
                            do chaos action
                          type: string
                      type: object
                  type: object
                partition:
                  description: PartitionSpec separate the given Pod from the rest of
                    the network. This chaos typeis retractable (either manually or after
                    a duration) and can be waited at both Running and Pass Phase. Running
                    phase begins when the failure is injected. Pass begins when the
                    failure is retracted. If anything goes wrong in between, the chaos
                    goes into Failed phase.
                  properties:
                    duration:
                      description: Duration is the time after which Frisbee will roll
                        back the injected fault.
                      type: string
                    selector:
                      properties:
                        macro:
                          description: Macro abstract selector parameters into a structured
                            string (e.g, .cluster.master.all). Every parsed field is
                            represents an inner structure of the selector. In case of
                            invalid macro, the selector will return empty results. Macro
                            conflicts with any other parameter.
                          type: string
                        match:
                          description: Match contains the rules to select target
                          enum:
                            - one
                            - all
                            - fixed
                            - fixed-percent
                            - random-max-percent
                          properties:
                            byCluster:
                              additionalProperties:
                                type: string
                              description: ByCluster defines the service group where
                                services belong.
                              type: object
                            byName:
                              additionalProperties:
                                items:
                                  type: string
                                type: array
                              description: ByName is a map of string keys and a set
                                values that used to select services. The key defines
                                the namespace which services belong, and the values
                                is a set of service names.
                              type: object
                          type: object
                        mode:
                          description: 'Mode defines which of the selected services
                          to use. If undefined, all() is used Supported mode: one
                          / all / fixed / fixed-percent / random-max-percent'
                          type: string
                        value:
                          description: Value is required when the mode is set to `FixedPodMode`
                            / `FixedPercentPodMod` / `RandomMaxPercentPodMod`. If `FixedPodMode`,
                            provide an integer of pods to do chaos action. If `FixedPercentPodMod`,
                            provide a number from 0-100 to specify the percent of pods
                            the server can do chaos action. IF `RandomMaxPercentPodMod`,  provide
                            a number from 0-100 to specify the max percent of pods to
                            do chaos action
                          type: string
                      type: object
                  required:
                    - selector
                  type: object
                type:
                  description: Type indicate the type of the injected fault
                  enum:
                    - partition
                    - kill
                  type: string
              required:
                - type
              type: object
            status:
              description: ChaosStatus defines the observed state of Chaos
              properties:
                lastScheduleTime:
                  description: LastScheduleTime provide information about  the last
                    time a Pod was scheduled.
                  format: date-time
                  type: string
                message:
                  description: Message provides more details for understanding the Reason.
                  type: string
                phase:
                  description: Phase is a simple, high-level summary of where the Object
                    is in its lifecycle. The conditions array, the reason and message
                    fields, and the individual container status arrays contain more
                    detail about the pod's status.
                  type: string
                reason:
                  description: Reason is A brief CamelCase message indicating details
                    about why the service is in this Phase. e.g. 'Evicted'
                  type: string
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
