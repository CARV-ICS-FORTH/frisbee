---
apiVersion: frisbee.io/v1alpha1
kind: Template
metadata:
  name: chaos.pod.kill
  labels:
    app.kubernetes.io/managed-by: {{.Release.Service | quote}}
spec:
  inputs:
    parameters:
      target: localhost
  chaos:
    type: raw
    raw: |
      apiVersion: chaos-mesh.org/v1alpha1
      kind: PodChaos
      metadata:
        name: autogenerated
      spec:
        action: pod-kill
        mode: all
        selector:
            pods:
              {{.Release.Namespace}}:
                - {{"{{.Inputs.Parameters.target}}" | quote}}